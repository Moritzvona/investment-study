{{ block title }}{{ endblock }}
{{ block content }}
<style>
body{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh}
.container{max-width:900px;margin:0 auto;padding:20px}
.page-title{text-align:center;color:white;font-size:32px;font-weight:700;margin-bottom:10px}
.round-badge{text-align:center;margin-bottom:25px}
.round-badge span{background:rgba(0,0,0,0.3);color:white;padding:8px 25px;border-radius:20px}
.capital-display{background:white;border-radius:15px;padding:20px 30px;margin-bottom:25px}
.capital-amount{font-size:42px;font-weight:700}
.capital-amount.gain{color:#10b981}
.capital-amount.loss{color:#ef4444}
.assets-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:25px}
.asset-card{background:white;border-radius:15px;padding:25px;border-top:4px solid}
.asset-card.safe{border-color:#10b981}
.asset-card.risky{border-color:#ec4899}
.asset-name{font-size:20px;font-weight:700;color:#1a1a2e}
.slider-section{background:white;border-radius:15px;padding:30px;margin-bottom:20px}
.slider-title{font-size:18px;font-weight:600;text-align:center;margin-bottom:20px}
.allocation-display{display:grid;grid-template-columns:1fr 1fr;gap:30px;margin-bottom:25px}
.allocation-item{text-align:center;padding:15px;border-radius:10px}
.allocation-item.safe{background:rgba(16,185,129,0.1)}
.allocation-item.risky{background:rgba(236,72,153,0.1)}
.allocation-value{font-size:28px;font-weight:700}
.allocation-value.safe{color:#10b981}
.allocation-value.risky{color:#ec4899}
input[type="range"]{width:100%;height:8px;border-radius:4px;background:linear-gradient(to right,#10b981,#ec4899);-webkit-appearance:none}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;border-radius:50%;background:white;box-shadow:0 2px 10px rgba(0,0,0,0.3);cursor:pointer}
.slider-labels{display:flex;justify-content:space-between;margin-top:10px;font-size:12px;color:#888}
.submit-btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:15px 50px;font-size:18px;border-radius:30px;cursor:pointer;display:block;margin:0 auto}
</style>
<div class="container">
<h1 class="page-title">Portfolio Reallocation</h1>
<div class="round-badge"><span>ROUND 2</span></div>
<div class="capital-display"><div style="font-size:12px;color:#888">YOUR CURRENT PORTFOLIO</div><div class="capital-amount {{ if is_gain }}gain{{ else }}loss{{ endif }}">‚Ç¨{{ current_portfolio }}</div></div>
<div class="assets-grid">
<div class="asset-card safe"><div class="asset-name">üõ°Ô∏è Government Bond ETF</div><div>+3.0% guaranteed</div></div>
<div class="asset-card risky"><div class="asset-name">üöÄ Tech Growth Fund</div><div>-15% to +25%</div></div>
</div>
<form method="post">
<div class="slider-section">
<div class="slider-title">How would you like to reallocate?</div>
<div class="allocation-display">
<div class="allocation-item safe"><div>Bonds</div><div class="allocation-value safe">‚Ç¨<span id="safe_display">0</span></div></div>
<div class="allocation-item risky"><div>Tech Fund</div><div class="allocation-value risky">‚Ç¨<span id="risky_display">0</span></div></div>
</div>
<input type="range" id="risk_slider" min="0" max="100" value="50">
<input type="hidden" name="risk2_share" id="id_risk2_share" value="50">
<div class="slider-labels"><span>100% Bonds</span><span>50/50</span><span>100% Tech</span></div>
</div>
<button class="submit-btn" type="submit">Confirm ‚Üí</button>
</form>
</div>
<script>
var portfolio={{ current_portfolio }};var slider=document.getElementById('risk_slider');var hidden=document.getElementById('id_risk2_share');var safeD=document.getElementById('safe_display');var riskyD=document.getElementById('risky_display');
function update(val){var r=portfolio*(val/100);var s=portfolio-r;safeD.textContent=s.toFixed(2);riskyD.textContent=r.toFixed(2);hidden.value=val;}
slider.oninput=function(){update(parseInt(this.value));}
update(50);
</script>
{{ endblock }}
