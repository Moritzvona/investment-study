{{ block title }}{{ endblock }}
{{ block content }}
<style>
body{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;margin:0;padding:0}
.container{max-width:800px;margin:0 auto;padding:20px}
.investment-card{background:white;border-radius:20px;padding:40px;box-shadow:0 20px 60px rgba(0,0,0,0.3)}
.round-badge{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:8px 20px;border-radius:20px;font-size:14px;font-weight:600;display:inline-block;margin-bottom:20px}
.portfolio-value{text-align:center;margin-bottom:30px}
.portfolio-label{font-size:14px;color:#666;margin-bottom:5px}
.portfolio-amount{font-size:48px;font-weight:700;color:#1a1a2e}
.portfolio-change{font-size:14px;margin-top:5px}
.portfolio-change.gain{color:#10b981}
.portfolio-change.loss{color:#ef4444}
.section-title{font-size:18px;font-weight:600;color:#1a1a2e;margin-bottom:15px}
.assets-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:30px}
.asset-card{padding:20px;border-radius:15px;text-align:center}
.asset-card.safe{background:linear-gradient(135deg,#e3f2fd,#bbdefb);border:2px solid #1565c0}
.asset-card.risky{background:linear-gradient(135deg,#fff3e0,#ffe0b2);border:2px solid #ff9800}
.logo-container{height:45px;display:flex;align-items:center;justify-content:center;margin-bottom:10px}
.treasury-shield{width:40px;height:40px;background:linear-gradient(135deg,#1a237e,#0d47a1);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid #c9a227}
.treasury-shield-inner{color:#c9a227;font-size:16px;font-weight:bold}
.micron-logo-box{background:#0057b8;padding:8px 16px;border-radius:6px}
.micron-text{color:white;font-size:18px;font-weight:700;font-family:Arial,sans-serif;letter-spacing:1px}
.asset-name{font-weight:700;font-size:15px;color:#1a1a2e;margin-bottom:3px}
.asset-ticker{font-size:11px;color:#888;margin-bottom:8px}
.asset-return{font-size:13px;margin-bottom:3px}
.asset-return .label{color:#666}
.asset-return .value{font-weight:600}
.asset-return .value.blue{color:#1565c0}
.asset-return .value.orange{color:#ef6c00}
.slider-section{background:#f8f9fa;border-radius:15px;padding:25px;margin-bottom:25px}
.slider-label{font-size:16px;font-weight:600;color:#1a1a2e;margin-bottom:15px;text-align:center}
.slider-container{position:relative;margin-bottom:20px}
.slider-input{width:100%;height:12px;border-radius:6px;background:linear-gradient(to right,#1565c0,#ff9800);outline:none;-webkit-appearance:none;cursor:pointer}
.slider-input::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;border-radius:50%;background:white;border:3px solid #667eea;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,0.2)}
.slider-labels{display:flex;justify-content:space-between;font-size:12px;color:#666;margin-top:8px}
.allocation-display{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:20px}
.allocation-box{padding:15px;border-radius:10px;text-align:center}
.allocation-box.safe{background:#e3f2fd}
.allocation-box.risky{background:#fff3e0}
.allocation-box .label{font-size:12px;color:#666;margin-bottom:5px}
.allocation-box .value{font-size:24px;font-weight:700}
.allocation-box.safe .value{color:#1565c0}
.allocation-box.risky .value{color:#ef6c00}
.btn-submit{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:18px 50px;font-size:18px;border-radius:30px;cursor:pointer;display:block;margin:0 auto;font-weight:600;box-shadow:0 10px 30px rgba(102,126,234,0.4);width:100%;max-width:300px}
@media(max-width:500px){.assets-grid{grid-template-columns:1fr;gap:15px}}
</style>
<div class="container">
<div class="investment-card">
<span class="round-badge">Round 2 of 2</span>
<div class="portfolio-value">
<div class="portfolio-label">Your Current Portfolio Value</div>
<div class="portfolio-amount">€{{ current_portfolio }}</div>
<div class="portfolio-change {{ if r1_gain }}gain{{ else }}loss{{ endif }}">{{ if r1_gain }}+{{ endif }}{{ r1_performance }}% from Round 1</div>
</div>
<div class="section-title">Available Assets</div>
<div class="assets-grid">
<div class="asset-card safe">
<div class="logo-container"><div class="treasury-shield"><span class="treasury-shield-inner">US</span></div></div>
<div class="asset-name">U.S. Treasury Bond</div>
<div class="asset-ticker">Risk-Free Asset</div>
<div class="asset-return"><span class="label">Expected: </span><span class="value blue">+3%</span></div>
<div class="asset-return"><span class="label">Volatility: </span><span class="value">0%</span></div>
</div>
<div class="asset-card risky">
<div class="logo-container"><div class="micron-logo-box"><span class="micron-text">micron</span></div></div>
<div class="asset-name">Micron Technology</div>
<div class="asset-ticker">NASDAQ: MU</div>
<div class="asset-return"><span class="label">Expected: </span><span class="value orange">+7%</span></div>
<div class="asset-return"><span class="label">Volatility: </span><span class="value orange">22%</span></div>
</div>
</div>
<div class="slider-section">
<div class="slider-label">How much do you want to invest in Micron Technology (MU)?</div>
<div class="slider-container">
<input type="range" min="0" max="100" value="50" class="slider-input" id="riskSlider" oninput="updateAllocation(this.value)">
<div class="slider-labels"><span>0% (All Treasury)</span><span>100% (All Micron)</span></div>
</div>
<div class="allocation-display">
<div class="allocation-box safe">
<div class="label">U.S. Treasury Bond</div>
<div class="value" id="safeAmount">€{{ safe_default }}</div>
</div>
<div class="allocation-box risky">
<div class="label">Micron Technology</div>
<div class="value" id="riskyAmount">€{{ risky_default }}</div>
</div>
</div>
</div>
<input type="hidden" name="risk2_share" id="risk2_share" value="50">
{{ next_button }}
</div>
</div>
<script>
var portfolio={{ current_portfolio }};
function updateAllocation(value){
var riskyPct=parseInt(value);
var safePct=100-riskyPct;
var riskyAmt=(portfolio*riskyPct/100).toFixed(2);
var safeAmt=(portfolio*safePct/100).toFixed(2);
document.getElementById('safeAmount').textContent='€'+safeAmt;
document.getElementById('riskyAmount').textContent='€'+riskyAmt;
document.getElementById('risk2_share').value=riskyPct;
}
document.addEventListener('DOMContentLoaded',function(){updateAllocation(50);});
</script>
{{ endblock }}
